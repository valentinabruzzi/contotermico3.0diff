function r(o=document){o.querySelectorAll(".has-tooltip:has(select)").forEach(i=>{const e=i.querySelector("select"),n=i.querySelector(".tooltip");if(!e||!n)return;d(e,n),e.addEventListener("change",()=>{d(e,n)}),new ResizeObserver(()=>{d(e,n)}).observe(e)})}function d(o,t){const i=p(o),e=o.options[o.selectedIndex],n=e&&e.value!=="";if(!i||!n){t.classList.add("hidden");return}t.classList.remove("hidden"),t.textContent=e.text,h(o,t)}function p(o){const t=document.createElement("span");t.style.visibility="hidden",t.style.position="absolute",t.style.whiteSpace="nowrap",t.style.font=window.getComputedStyle(o).font,t.textContent=o.options[o.selectedIndex]?.text||"",document.body.appendChild(t);const i=t.offsetWidth;document.body.removeChild(t);const e=o.clientWidth-40;return i>e}function h(o,t){const i=o.getBoundingClientRect(),e=60,n=Math.min(t.scrollWidth,300),s={top:i.top,bottom:window.innerHeight-i.bottom,left:i.left,right:window.innerWidth-i.right};if(t.classList.remove("tooltip-top","tooltip-bottom","tooltip-left","tooltip-right"),s.top>=e)t.classList.add("tooltip-top");else if(s.bottom>=e)t.classList.add("tooltip-bottom");else if(s.right>=n)t.classList.add("tooltip-right");else if(s.left>=n)t.classList.add("tooltip-left");else{const c=Math.max(...Object.values(s)),l=Object.keys(s).find(a=>s[a]===c);t.classList.add(`tooltip-${l}`)}}typeof window<"u"&&document.addEventListener("DOMContentLoaded",()=>{r()});export{r as i};
